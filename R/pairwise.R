library(tidyverse)
# get all test_attempt == T2 and assign to a data frame
# T2 <- final %>% filter( test_attempt == "T2")

# loop through T2 data frame

  # for each row take the id and module

  # use the id and module to find mathcing test scores for T1
