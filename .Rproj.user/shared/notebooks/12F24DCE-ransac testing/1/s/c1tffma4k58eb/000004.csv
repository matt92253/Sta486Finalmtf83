"0","library(spanner)"
"0","library(dbscan)"
"0",""
"0","las <- readTLSLAS(""C:/Users/mflan/Desktop/DensePatchA.laz"", filter=""-keep_circle 0 0 15 -thin_with_voxel 0.01"")"
"0","las <- classify_ground(las, csf(sloop_smooth = FALSE,"
"0","                                class_threshold = 0.5, cloth_resolution = 0.5,"
"0","                                rigidness = 1L, iterations = 500L,"
"0","                                time_step = 0.65))"
"0","las <- normalize_height(las, tin())"
"0","las <- classify_noise(las, ivf(6,1))"
"0","las <- filter_poi(las, Classification != LASNOISE)"
"0","las_slice <- filter_poi(las, Z>=0.5, Z<=2)"
"0",""
"0",""
"0",""
"0","eigens <- spanner::eigen_metrics(las_slice, radius = 0.33, ncpu = 8)"
"0","pt_den <- spanner:::C_count_in_sphere(las_slice, radius = 0.33, ncpu = 8)"
"0","las_slice@data<-cbind(las_slice@data, eigens)"
"0","las_slice@data<-cbind(las_slice@data, pt_den)"
"0",""
"0",""
"0",""
"0","las_slice <- filter_poi(las_slice, Z>=1.07, Z<=1.77)"
"0","plot(las_slice, color=""Verticality"")"
"0",""
"0","clust <- dbscan::dbscan(las_slice@data[,c(""X"",""Y"",""Z"", ""eSum"",""Verticality"")], eps = 0.25, minPts = 100)"
"0",""
"0","las_slice@data$treeID<-clust$cluster"
"0","plot(las_slice, color=""treeID"")"
"0",""
